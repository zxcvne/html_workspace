<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    // 계좌 myAccount, yourAccount
    // 객체(object)를 사용하여 생성 / class로 생성

    // 일반 객체로 생성
    /*
    const myAccount = {
      name: "hong",
      balance: 0,
      // 입금
      deposit: function (amount) {
        this.balance += amount;
      },
      // 출금
      withdraw: function (amount) {
        if (amount > this.balance) {
          console.log("잔액부족");
        } else {
          this.balance -= amount;
        }
      },
      // 이체
      transfer: function (amount, otherAccount) {
        if (this.balance < amount) {
          console.log("잔액부족");
        } else {
          this.balance -= amount;
          otherAccount.balance += amount;
        }
      },
    };

    const yourAccount = {
      name: "kim",
      balance: 10000,
      // 입금
      deposit: function (amount) {
        this.balance += amount;
      },
      // 출금
      withdraw: function (amount) {
        if (amount > this.balance) {
          console.log("잔액부족");
        } else {
          this.balance -= amount;
        }
      },
      // 이체
      transfer: function (amount, otherAccount) {
        if (this.balance < amount) {
            console.log("잔액부족");
            } else {
                this.balance -= amount;
                otherAccount.balance += amount;
                }
                },
                };

                // 내 계좌에 입금 50000
                myAccount.deposit(50000);
                //  20000 출금
                myAccount.withdraw(20000);
                // myAccount.withdraw(100000);
                // 2만원 이체
                myAccount.transfer(10000, yourAccount);
                console.log(myAccount, yourAccount);

                console.log("-------------");
                */

    // class로 변경 => 같은 변수와 메서드를 가지는
    class BankAccount {
      // javascript에서는 클래스, 객체 안에 맴버를 사용할때 반드시 this키워드를 붙여줘야함 붙이지 않으면 외부에서 가져온 변수로 인지
      constructor(name, balance) {
        this.name = name;
        this.balance = balance;
      }
      // 입금
      deposit(amount) {
        this.balance += amount;
        return this.balance; // 잔액리턴
      }

      // 출금
      withdraw(amount) {
        if (amount > this.balance) {
          console.log("잔액부족");
        } else {
          this.balance -= amount;
          return this.balance;
        }
      }

      // 이체
      transfer(amount, yourAccount) {
        if (this.balance < amount) {
          console.log("잔액부족");
        } else {
          this.balance -= amount;
          yourAccount.balance += amount;
          return this.balance;
        }
      }
    }

    const leeAcc = new BankAccount("lee", 10000);
    const parkAcc = new BankAccount("park", 50000);

    console.log(`입금 후 잔액 :`, leeAcc.deposit(100000));
    console.log(`출금 후 잔액 :`, leeAcc.withdraw(30000));
    console.log("이체 후 잔액 : ", leeAcc.transfer(30000, parkAcc));
    console.log(leeAcc, parkAcc);
  </script>
</html>
